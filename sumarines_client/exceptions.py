"""
All the client's exceptions are in this module
"""

from sumarines_client.constants import Protocol


class SubmarinesClientException(Exception):
    """
    The base submarine client exception
    """

    pass


class ProtocolException(SubmarinesClientException):
    """
    A generic protocol error
    """

    pass


class InvalidMessageTypeException(ProtocolException):
    """
    Raised when an invalid message type was received
    """

    pass


class InvalidMagicException(ProtocolException):
    """
    Raised when an invalid magic was received
    """

    pass


class InvalidHeadersException(ProtocolException):
    """
    Raised when the headers are not in a valid form
    """

    pass


class ErrorMessageException(SubmarinesClientException):
    """
    An error generated by an error message
    """

    def __init__(self, error_code: Protocol.ErrorCode, message: str):
        self.error_code = error_code
        super().__init__(f'An error message was received - {error_code.name}({error_code}):\n\t{message}')


class GenericException(ErrorMessageException):
    """
    A generic error message exception
    """

    def __init__(self, message: str = 'A generic error (no additional information)'):
        super().__init__(Protocol.ErrorCode.GENERIC_ERROR, message)


class AlreadyAttackedException(ErrorMessageException):
    """
    Raised when the given coordinate was already attacked
    """

    def __init__(self, message: str = 'The coordinate you chose was already attacked, turn is passed...'):
        super().__init__(Protocol.ErrorCode.ALREADY_ATTACKED_ERROR, message)


class InvalidCoordinateException(ErrorMessageException):
    """
    Raised when the given coordinate is out of bound
    """

    def __init__(self, message: str = 'The coordinate you chose is out of bounds, turn is passed...'):
        super().__init__(Protocol.ErrorCode.INVALID_COORDINATE_ERROR, message)
